# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –°–∏—Å—Ç–µ–º–∞ –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—è

## –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å DATABASE_URL –≤ Vercel

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Vercel Dashboard](https://vercel.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç LandscapeHelper
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Environment Variables**
4. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name**: `DATABASE_URL`
   - **Value**: `postgresql://neondb_owner:npg_3QPdCOmfDK2e@ep-silent-bar-a10loy9g-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require`
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤—Å–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Production, Preview, Development)
5. –ù–∞–∂–º–∏—Ç–µ **Save**

## –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å ADMIN_TOKEN

–î–æ–±–∞–≤—å—Ç–µ –µ—â–µ –æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
- **Name**: `ADMIN_TOKEN`
- **Value**: –ü—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: `lkJh3k9mP2qR5tW8xY1zA4bC6dE7fG`)
- –≠—Ç–æ —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ª–∏—Ü–µ–Ω–∑–∏–π

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Email

–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email:

- **SMTP_HOST**: `mail.227.info`
- **SMTP_PORT**: `465` (–∏–ª–∏ `587` –¥–ª—è STARTTLS)
- **SMTP_USER**: `admin@227.info`
- **SMTP_PASS**: `Gdv2210974!!!`
- **EMAIL_FROM**: `LandscapeHelper <admin@227.info>`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–ª—è –ø–æ—Ä—Ç–∞ 465 –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `secure: true`, –¥–ª—è 587 –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `secure: false` (STARTTLS).

## –®–∞–≥ 4: –î–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
git add .
git commit -m "Add license system"
git push origin license-system
```

–ò–ª–∏ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ —á–µ—Ä–µ–∑ Vercel Dashboard.

## –®–∞–≥ 5: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
https://your-domain.vercel.app/api/init-db
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ POST –∑–∞–ø—Ä–æ—Å:

```bash
curl -X POST https://your-domain.vercel.app/api/init-db
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ—Ç–≤–µ—Ç:
```json
{
  "success": true,
  "message": "Database initialized successfully. Table \"licenses\" created with indexes."
}
```

## –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:

```
https://your-domain.vercel.app/api/test-db
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ—Ç–≤–µ—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ë–î.

## –®–∞–≥ 7: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/payment` –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ
2. –ù–∞–∂–º–∏—Ç–µ "üîë –ü–æ–∫–∞–∑–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"
3. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à `ADMIN_TOKEN`
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (6 –∏–ª–∏ 12 –º–µ—Å—è—Ü–µ–≤)
5. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –£–∫–∞–∂–∏—Ç–µ email –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–ª—é—á–∞
6. –ù–∞–∂–º–∏—Ç–µ "‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é"

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç. –í—ã –º–æ–∂–µ—Ç–µ:
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–µ –∫–ª—é—á–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–ª—é—á–∏ –Ω–∞ email (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω SMTP)
- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–∏ —á–µ—Ä–µ–∑ API `/api/activate-license`
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å –ª–∏—Ü–µ–Ω–∑–∏–π —á–µ—Ä–µ–∑ API `/api/license-status`

## Troubleshooting

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Vercel
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Production, Preview, Development) –≤—ã–±—Ä–∞–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

### –¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard ‚Üí Functions
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Neon SQL Editor

### Email –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –î–ª—è Gmail –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è", –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard

